<!doctype html>
<html lang="de">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Derya Nova Hebammenpraxis - Kontakt & Anfrage</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <style type="text/css" id="dcoder_stylesheet">
    /* Globale Design-Variablen für ein konsistentes Erscheinungsbild */
    :root {
        --primary-color: #D5B4B4; /* Ein sanfter, warmer Farbton, inspiriert von Ihrer Seite */
        --primary-color-rgb: 213, 180, 180; /* RGB-Werte für #D5B4B4 */
        --primary-color-dark: #bca0a0;
        --success-color: #6A9C89; /* Ein ruhiger Grünton für Erfolgsmeldungen */
        --error-color: #d9534f;
        --light-background: #FEFBF6; /* Gebrochenes Weiß / Creme für den Hintergrund */
        --text-color: #5D504A; /* Ein warmer Braun-Grau-Ton statt hartem Schwarz */
        --border-color: #E0D8D3;
        --box-shadow: 0 8px 24px rgba(93, 80, 74, 0.1);
        --border-radius: 12px;
        --font-family-headings: 'Lora', serif; /* Elegante Schrift für Überschriften */
        --font-family-body: 'Montserrat', sans-serif; /* Klare, moderne Schrift für Text */

        /* Tema değişkenleri */
        --theme-primary: var(--primary-color);
        --theme-primary-rgb: var(--primary-color-rgb); /* Varsayılan olarak ana renk RGB */
        --theme-background: linear-gradient(135deg, var(--light-background) 0%, #F5EBE0 100%);
        --theme-text: var(--text-color);
    }

    body.boy-theme {
        --theme-primary: #ADD8E6; /* Light Sky Blue */
        --theme-primary-rgb: 173, 216, 230; /* RGB for #ADD8E6 */
        --theme-background: linear-gradient(135deg, #E0F2F7 0%, #C0E0EB 100%);
    }

    body.girl-theme {
        --theme-primary: #FFC0CB; /* Pink */
        --theme-primary-rgb: 255, 192, 203; /* RGB for #FFC0CB */
        --theme-background: linear-gradient(135deg, #FCEEF0 0%, #FACDD6 100%);
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: var(--font-family-body);
        background: var(--theme-background);
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        padding: 2rem;
        color: var(--theme-text);
        transition: background 0.5s ease-in-out;
    }

    .container {
        max-width: 700px;
        width: 100%;
    }

    .header-section {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 2rem;
        gap: 15px;
        color: var(--theme-primary);
    }

    .header-section img {
        height: 60px; /* Adjust as needed */
        width: auto;
    }

    .header-section h1 {
        font-family: var(--font-family-headings);
        font-size: 2.5em;
        font-weight: 600;
    }

    .form-wrapper {
        background-color: #ffffff;
        padding: 40px 50px;
        border-radius: var(--border-radius);
        box-shadow: var(--box-shadow);
        border: 1px solid var(--border-color);
    }

    form fieldset {
        border: none;
        padding: 0;
    }

    form legend {
        font-family: var(--font-family-headings);
        font-size: 2em;
        font-weight: 600;
        text-align: center;
        margin-bottom: 30px;
        color: var(--text-color);
        width: 100%;
    }

    .input-group {
        margin-bottom: 22px;
        position: relative;
    }

    .input-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        font-size: 0.95em;
    }

    .input-group input,
    .input-group textarea,
    .input-group select {
        width: 100%;
        padding: 14px 18px;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        font-size: 1em;
        font-family: var(--font-family-body);
        color: var(--text-color);
        background-color: var(--light-background);
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .input-group input::placeholder,
    .input-group textarea::placeholder {
        color: #a0938e;
    }

    .input-group input:focus,
    .input-group textarea:focus,
    .input-group select:focus {
        outline: none;
        border-color: var(--theme-primary);
        box-shadow: 0 0 0 4px rgba(var(--theme-primary-rgb), 0.3);
    }

    /* Validierungs-Stile für fehlerhafte Eingaben */
    .input-group.error input,
    .input-group.error textarea,
    .input-group.error select {
        border-color: var(--error-color);
    }
    .input-group .error-text {
        color: var(--error-color);
        font-size: 0.85em;
        margin-top: 6px;
        display: none; /* Wird per JavaScript sichtbar gemacht */
    }
    .input-group.error .error-text {
        display: block;
    }

    /* Spezielle Stile für die DSGVO-Checkbox */
    .terms-group {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        margin-top: 10px;
    }
    .terms-group input[type="checkbox"] {
        width: auto;
        margin-top: 5px;
        accent-color: var(--theme-primary);
    }
    .terms-group label {
        font-weight: 400;
        font-size: 0.9em;
        line-height: 1.5;
    }
    .terms-group a {
        color: var(--theme-primary);
        font-weight: 500;
        text-decoration: none;
    }
    .terms-group a:hover {
        text-decoration: underline;
    }

    /* Button und Lade-Animation (Spinner) */
    button[type="submit"] {
        width: 100%;
        padding: 16px;
        background-color: var(--theme-primary);
        color: #fff;
        border: none;
        border-radius: 8px;
        font-size: 1.1em;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.2s ease;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 10px;
    }
    button[type="submit"]:hover {
        background-color: var(--primary-color-dark);
        transform: translateY(-3px);
    }
    button[type="submit"]:disabled {
        background-color: #e0c8c8;
        cursor: not-allowed;
    }

    .spinner {
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top: 3px solid #fff;
        width: 20px;
        height: 20px;
        animation: spin 1s linear infinite;
    }
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    /* Benachrichtigungsboxen */
    .message {
        padding: 15px;
        margin-bottom: 20px;
        border-radius: 8px;
        border: 1px solid transparent;
        text-align: center;
    }
    .message.success {
        background-color: #e3fcec;
        border-color: #c3e6cb;
        color: #155724;
    }
    .message.error {
        background-color: #f8d7da;
        border-color: #f5c6cb;
        color: #721c24;
    }

    /* Modal für Geschlechtsauswahl */
    .gender-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }

    .gender-modal-content {
        background-color: #fff;
        padding: 40px;
        border-radius: 12px;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        max-width: 500px;
        width: 90%;
    }

    .gender-modal-content h2 {
        font-family: var(--font-family-headings);
        font-size: 1.8em;
        margin-bottom: 25px;
        color: var(--text-color);
    }

    .gender-modal-buttons button {
        background-color: var(--primary-color);
        color: #fff;
        border: none;
        padding: 15px 30px;
        border-radius: 8px;
        font-size: 1.1em;
        font-weight: 600;
        cursor: pointer;
        margin: 0 15px;
        transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .gender-modal-buttons button:hover {
        background-color: var(--primary-color-dark);
        transform: translateY(-3px);
    }

    /* Responsives Design für mobile Geräte */
    @media (max-width: 768px) {
        .form-wrapper {
            padding: 30px;
        }
        form legend {
            font-size: 1.8em;
        }
        .header-section h1 {
            font-size: 2em;
        }
        .gender-modal-buttons button {
            margin: 10px 0;
            width: 80%;
        }
    }
  </style>
 </head>
 <body>
  <div id="gender-modal" class="gender-modal">
   <div class="gender-modal-content">
    <h2>Ihr Kind: Junge oder Mädchen? (Oder was wünschen Sie sich?)</h2>
    <div class="gender-modal-buttons">
     <button id="boy-button">Junge</button>
     <button id="girl-button">Mädchen</button>
    </div>
   </div>
  </div>

  <main class="container">
   <header class="header-section">
    <img src="klogo.png" alt="Derya Nova Logo">
    <h1>Derya Nova</h1>
   </header>
   <section class="form-wrapper">
    <div id="success-message" class="message success" style="display: none;">
     <p><strong>Vielen Dank!</strong> Ihre Anfrage wurde erfolgreich versendet. Ich werde mich so schnell wie möglich bei Ihnen melden.</p>
    </div>
    <div id="error-message" class="message error" style="display: none;">
     <p><strong>Fehler!</strong> Ihre Anfrage konnte nicht gesendet werden. Bitte überprüfen Sie Ihre Eingaben und versuchen Sie es erneut.</p>
    </div>
    <form id="appointment-form" novalidate>
     <fieldset>
      <legend>Kontakt & Betreuungsanfrage</legend>
      <div class="input-group">
       <label for="name">Ihr vollständiger Name:</label>
       <input type="text" id="name" name="name" placeholder="z.B. Maria Mustermann" required>
       <small class="error-text"></small>
      </div>
      <div class="input-group">
       <label for="email">Ihre E-Mail-Adresse:</label>
       <input type="email" id="email" name="email" placeholder="beispiel@email.de" required>
       <small class="error-text"></small>
      </div>
      <div class="input-group">
       <label for="phone">Ihre Telefonnummer:</label>
       <input type="tel" id="phone" name="phone" placeholder="Für eine leichtere Kontaktaufnahme" required>
       <small class="error-text"></small>
      </div>
      <div class="input-group">
       <label for="dob">Ihr Geburtsdatum:</label>
       <input type="date" id="dob" name="dob" required>
       <small class="error-text"></small>
      </div>
      <div class="input-group">
       <label for="due_date">Voraussichtlicher Entbindungstermin (ET):</label>
       <input type="date" id="due_date" name="due_date" required>
       <small class="error-text"></small>
      </div>
      <div class="input-group">
       <label for="pregnancy_count">Die wievielte Schwangerschaft ist dies?</label>
       <input type="text" id="pregnancy_count" name="pregnancy_count" placeholder="z.B. Erste, Zweite..." required>
       <small class="error-text"></small>
      </div>
      <div class="input-group">
       <label for="service_type">Gewünschte Leistung:</label>
       <select id="service_type" name="service_type" required>
        <option value="" disabled selected>Bitte wählen Sie eine Leistung aus...</option>
        <option value="Schwangerschaftsvorsorge">Schwangerschaftsvorsorge</option>
        <option value="Geburtsbegleitung">Geburtsbegleitung</option>
        <option value="Wochenbettbetreuung">Wochenbettbetreuung</option>
        <option value="Stillberatung">Stillberatung</option>
        <option value="Sonstiges">Sonstiges (bitte im Textfeld erläutern)</option>
       </select>
       <small class="error-text"></small>
      </div>
      <div class="input-group">
       <label for="message">Ihre Nachricht an mich:</label>
       <textarea id="message" name="message" rows="5" placeholder="Haben Sie weitere Fragen oder Anmerkungen?" required></textarea>
       <small class="error-text"></small>
      </div>
      <div class="input-group terms-group">
       <input type="checkbox" id="terms" name="terms" required>
       <label for="terms">Ich habe die <a href="daten.html" target="_blank">Datenschutzerklärung</a> gelesen und stimme der Verarbeitung meiner Daten zum Zweck der Kontaktaufnahme zu.</label>
       <small class="error-text"></small>
      </div>
      <button type="submit" id="submit-btn">
       <span class="btn-text">Anfrage Senden</span>
       <span class="spinner" style="display: none;"></span>
      </button>
     </fieldset>
    </form>
   </section>
  </main>

  <script type="text/javascript">
    // Tüm gerekli HTML elemanları seçilir ve sabitlere atanır.
    const form = document.getElementById('appointment-form');
    const nameInput = document.getElementById('name');
    const emailInput = document.getElementById('email');
    const phoneInput = document.getElementById('phone');
    const dobInput = document.getElementById('dob');
    const dueDateInput = document.getElementById('due_date');
    const pregnancyCountInput = document.getElementById('pregnancy_count');
    const serviceTypeInput = document.getElementById('service_type');
    const messageInput = document.getElementById('message');
    const termsInput = document.getElementById('terms');
    const submitBtn = document.getElementById('submit-btn');
    const btnText = document.querySelector('.btn-text');
    const spinner = document.querySelector('.spinner');
    const successMessage = document.getElementById('success-message');
    const errorMessage = document.getElementById('error-message');

    // Cinsiyet Modal Elemanları
    const genderModal = document.getElementById('gender-modal');
    const boyButton = document.getElementById('boy-button');
    const girlButton = document.getElementById('girl-button');

    // EmailJS yapılandırma verileriniz. Artık yer tutucu yok!
    const emailJSConfig = {
        serviceID: 'service_qcvpvxk',
        templateID: 'template_54nmi1v',
        publicKey: 'VX2yPrTM0rwPqZWXB'
    };

    // Giriş alanı için hata mesajı ayarlama yardımcı fonksiyonu.
    const setError = (input, message) => {
        const inputGroup = input.closest('.input-group');
        const errorText = inputGroup.querySelector('.error-text');
        inputGroup.classList.add('error');
        inputGroup.classList.remove('success');
        errorText.innerText = message;
    };

    // Giriş alanını başarılı olarak işaretleme yardımcı fonksiyonu.
    const setSuccess = (input) => {
        const inputGroup = input.closest('.input-group');
        const errorText = inputGroup.querySelector('.error-text');
        inputGroup.classList.add('success');
        inputGroup.classList.remove('error');
        if (errorText) errorText.innerText = '';
    };

    // E-posta adresinin geçerli bir formatta olup olmadığını kontrol eder.
    const isValidEmail = email => {
        const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
    };

    // Tüm girişleri doğrulayan ana doğrulama fonksiyonu.
    const validateForm = () => {
        let isValid = true;
        const inputsToValidate = [nameInput, emailInput, phoneInput, dobInput, dueDateInput, pregnancyCountInput, serviceTypeInput, messageInput, termsInput];
        inputsToValidate.forEach(input => {
            if (input.type === 'checkbox') {
                if (!input.checked) {
                    isValid = false;
                    setError(input, 'Bitte stimmen Sie den Bedingungen der Datenschutzerklärung zu. ');
                } else {
                    setSuccess(input);
                }
            } else {
                if (input.value.trim() === '') {
                    isValid = false;
                    setError(input, 'Dieses Feld ist ein Pflichtfeld. ');
                } else if (input.id === 'email' && !isValidEmail(input.value.trim())) {
                    isValid = false;
                    setError(input, 'Bitte geben Sie eine gültige E-Mail-Adresse ein. ');
                } else {
                    setSuccess(input);
                }
            }
        });
        return isValid;
    };

    // E-posta gönderimini EmailJS aracılığıyla halleden fonksiyon.
    const sendEmail = () => {
        submitBtn.disabled = true;
        btnText.style.display = 'none';
        spinner.style.display = 'block';
        emailjs.sendForm(emailJSConfig.serviceID, emailJSConfig.templateID, form, emailJSConfig.publicKey)
            .then(() => {
                successMessage.style.display = 'block';
                errorMessage.style.display = 'none';
                form.reset();
                window.scrollTo(0, 0); // Sayfanın başına kaydır
                document.querySelectorAll('.input-group').forEach(group => {
                    group.classList.remove('success', 'error');
                });
            }, (error) => {
                console.error('FEHLER BEIM SENDEN EINER E-MAIL :', error);
                errorMessage.style.display = 'block';
                successMessage.style.display = 'none';
                window.scrollTo(0, 0); // Sayfanın başına kaydır
            })
            .finally(() => {
                submitBtn.disabled = false;
                btnText.style.display = 'block';
                spinner.style.display = 'none';
            });
    };

    // Formun 'submit' olayı için olay dinleyicisi.
    form.addEventListener('submit', (event) => {
        event.preventDefault(); // Sayfanın yeniden yüklenmesini önler.

        // Form geçerliyse e-posta gönderilir.
        if (validateForm()) {
            sendEmail();
        }
    });

    // Cinsiyet Modal Mantığı
    boyButton.addEventListener('click', () => {
        document.body.classList.add('boy-theme');
        document.body.classList.remove('girl-theme');
        genderModal.style.display = 'none';
    });

    girlButton.addEventListener('click', () => {
        document.body.classList.add('girl-theme');
        document.body.classList.remove('boy-theme');
        genderModal.style.display = 'none';
    });

    // EmailJS'yi başlat
    // EmailJS'yi doğru public key ile başlatmalısınız.
    // Bu kısım sayfa yüklendiğinde otomatik olarak çalışır.
    (function() {
        emailjs.init(emailJSConfig.publicKey);
    })();
  </script>
<script src="//fbstore.sendpulse.com/loader.js" data-sp-widget-id="77ed6917-a0f0-4c3b-8fb3-062c7545c8ab" async></script>
 </body>
</html>
